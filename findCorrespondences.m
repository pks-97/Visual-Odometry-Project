function [a1,b1,T1,T2]=findCorrespondences(I1,I2)
points1=detectSURFFeatures(I1);
points2=detectSURFFeatures(I2);
[features1,valid_points1]=extractFeatures(I1,points1);
[features2,valid_points2]=extractFeatures(I2,points2);
indexPairs=matchFeatures(features1,features2);
matchedPoints1 = valid_points1(indexPairs(:,1));
matchedPoints2 = valid_points2(indexPairs(:,2));
a=matchedPoints1(:).Location;
b=matchedPoints2(:).Location;
[m1,m2]=Mean(a);
[m3,m4]=Mean(b);
d1=Avg_Distance(a,0,0);
d2=Avg_Distance(b,0,0);
scale1=sqrt(2)/d1;
scale2=sqrt(2)/d2;
T1=[scale1,0,-scale1*m1;0,scale1,-scale1*m2;0,0,1];
T2=[scale2,0,-scale2*m3;0,scale2,-scale2*m4;0,0,1];
[x1,y1]=size(a);
[x2,y2]=size(b);
a1=ones(3,x1);
b1=ones(3,x2);
a1(1:2,:)=a';
b1(1:2,:)=b';
a1=T1*a1;
b1=T2*b1;